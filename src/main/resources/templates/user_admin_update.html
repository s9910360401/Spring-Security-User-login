<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.com">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta
      name="author"
      content="Mark Otto, Jacob Thornton, and Bootstrap contributors"
    />
    <meta name="generator" content="Hugo 0.108.0" />
    <title>OGABE|會員資料</title>
    <!-- <link href="dist/css/bootstrap.min.css" rel="stylesheet" /> -->
    <link href="/dist/css/carousel.css" rel="stylesheet" />
    <link href="/dist/css/my.css" rel="stylesheet" />
    <link href="/cheatsheet.css" rel="stylesheet" />
    <link href="/dist/css/guideline.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <style>
        .wrapper{
			display: flex;
			background: #EAE0DA;

        }
		#aside_style{
			width: 250px;
			background-color: #D9d9d9;
			flex-shrink:0
            
		}
        /* #icon_userdata{
          width: 100px;
          height: 100px;
        } */
        #navbarSupportedContent ul,li{
          color: black;
          font-size: 1.02em;
          font-weight: 800;
        }
        #preview{
          border: 1px solid black;
          display: inline-block;
          width: 145px;
          min-height: 196px;
          position: relative;
        }
        #preview span.text{
          position: absolute;
          display: inline-block;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
          z-index: -1;
          color: lightgray;
        }
        #preview img.preview_img{
          width: 100%;
          height: 100%;
        }
		#space_block{
			width: 250px;
		}
    </style>
  </head>

  <body>
    


	<div class="wrapper" th:object="${uservo}">
		<aside id="aside_style">
			<br>
			<div class="user_image">
				<center>
					<img th:src="@{/image/display/{userid}(userid=${uservo.userid})}" width="145"
						height="196" id="userpic">
				</center>

			</div>
			<br> <br>

			<div class="container d-flex flex-row flex-md-row ms-0 px-1">
				<nav
					class="navbar navbar-expand-md navbar-light d-flex flex-md-column">

					<div>
						<button class="navbar-toggler" type="button"
							data-bs-toggle="collapse"
							data-bs-target="#navbarSupportedContent"
							aria-controls="navbarSupportedContent" aria-expanded="false"
							aria-label="Toggle Navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
					</div>

					<div class="collapse navbar-collapse w-100"
						id="navbarSupportedContent">
						<ul class="navbar-nav w-100 d-flex flex-md-column  ">
							<li><a href="#" class="nav-link" aria-current="page">會員基本資料</a>
							</li>
							<li><a href="#" class="nav-link" aria-current="page">修改密碼</a>
							</li>
							<li><a href="#" class="nav-link" aria-current="page">購物車</a>
							</li>
							<li><a href="#" class="nav-link" aria-current="page">收藏的文章</a>
							</li>
							<li><a href="#" class="nav-link" aria-current="page">購物商城訂單紀錄</a>
							</li>
							<li><a href="#" class="nav-link" aria-current="page">線上訂餐訂單紀錄</a>
							</li>
						</ul>
					</div>
				</nav>
			</div>
			<br> <br> <br> <br> <br> <br>
		</aside>

		<div id="space_block"></div>

		<div id="contents" class="container p-4">

			<br>
			<h1>會員基本資料</h1>
			<br>

			<form enctype="multipart/form-data" action="/admin/edituser" method="post"
				name="update-form">

				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員ID</label>
					<div class="input-group">
						<input type="text" class="form-control" id="UserID"
							th:value="${uservo.userid}" name="userid" readonly>
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>

				</div>
				<br>

				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員Email</label>
					<div class="input-group">
						<input type="text" class="form-control" id="UserEmail"
							th:value="${uservo.useremail}" name="useremail">
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>
				</div>
				<br>

				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員密碼</label>
					<div class="input-group">
						<input type="text" class="form-control" id="UserPwd"
							th:value="${uservo.userpwd}" name="userpwd">
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>
				</div>
				<br>

				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員姓名</label>
					<div class="input-group">
						<input type="text" class="form-control" id="UserName"
							th:value="${uservo.username}" name="username">
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>

				</div>
				<br>
				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員暱稱</label>
					<div class="input-group">
						<input type="text" class="form-control" id="UserNickname"
							th:value="${uservo.usernickname}" name="usernickname">
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>
				</div>
				<br>
				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員地址</label>
					<div class="input-group">
						<input type="text" class="form-control" id="UserAddress"
							th:value="${uservo.useraddress}" name="useraddress">
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>
				</div>
				<br>
				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員電話</label>
					<div class="input-group">
						<input type="text" class="form-control" id="UserMobile"
							th:value="${uservo.usertel}" name="usertel">
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>
				</div>
				<br>

				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員Vip等級</label>
					<div class="input-group">
						<input type="text" class="form-control" id="UserVip"
							th:value="${uservo.viplevelid}" name="viplevelid">
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>
				</div>
				<br>
				

				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員申請日期</label>
					<div class="input-group">
						<input type="text" class="form-control" id="Userdatetime"
							th:value="${uservo.userregidate}" name="userregidate" readonly>
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>
				</div>
				<br>

				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員狀態</label>
					<div class="input-group">
						<input type="text" class="form-control" id="Userstatus"
							th:value="${uservo.userstatusvo.statusid}" name="userstatus">
						<button class="btn btn-primary">
							<i class="fa-regular fa-pen-to-square">編輯</i>
						</button>
					</div>
				</div>
				<br>

				<div class="form-group col-sm-8">
					<label for="exampleInputPassword1">會員照片更換</label>
					<div class="input-group">
						<input type="file" class="form-control" id="p_file"
							name="userpic">
						<button class="btn btn-primary">
							<i class="fa-solid fa-check">送出圖片</i>
						</button>
					</div>
					<br>
					<div>預覽圖</div>
					<div id="preview">
						<span class="preview_span"></span>
					</div>
				</div>
				<br> 
				<button type="submit" class="btn btn-primary col-sm-5 ">送出資料</button>

			</form>

		</div>
	</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/726c532433.js" crossorigin="anonymous"></script>
    <script>
      let preview_el = document.getElementById("preview");
      let p_file_el = document.getElementById("p_file");


      let preview_img = function(file){
        var reader = new FileReader();
        reader.readAsDataURL(file);
        reader.addEventListener("load", function(){
          let img_str = '<img src="' + reader.result + '" class="preview_img">';
          preview_el.innerHTML = img_str;
        })
      }

      p_file_el.addEventListener("change", function(e){
          if(this.files.length > 0){
            preview_img(this.files[0]);
          }else{
            preview_el.innerHTML = '<span class="text">預覽圖</span>';
          }
        });


    </script>
  </body>
</html>
